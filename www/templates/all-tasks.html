<ion-view view-title="All Tasks">
  <ion-content>
    <ion-list>
      <div ng-repeat="task in data.allTasks">
        <ion-item class="item" 
          ng-class="{'royal2' : task.category === 'Work','calm2' : task.category ==='Personal'}"
          ng-click="data.toggleTask(task)">
           <i class="icon" ng-class="task.show ? 'ion-minus' : 'ion-plus'"></i> 
          Task {{task.taskName}}
        </ion-item>
        <div class="card" ng-show="task.show"> 
        <ion-item
          ng-class="{'royal3' : task.category==='Work','calm3' : task.category ==='Personal'}"
          ng-repeat="prop in task.properties">
          {{prop}}
        </ion-item>
        </div>
          <ion-toggle ng-show="task.show"
            ng-class="{'royal3' : task.category==='Work','calm3' : task.category ==='Personal'}"
            ng-model="task.finished">Finished: </ion-toggle>
        
        <button class="button button-balanced button-full"
          ng-show="task.finished" 
          ng-click="data.finishTask($index)">Finished Task!</button>
      </div>
    </ion-list>
  </ion-content>
</ion-view>
